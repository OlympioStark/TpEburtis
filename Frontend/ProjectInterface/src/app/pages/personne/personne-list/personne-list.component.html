<div class="container">
    <p-table #dt1 [value]="personnes" [rows]="5" [showCurrentPageReport]="true" [rowsPerPageOptions]="[5, 10, 25, 50]" [loading]="loading" [paginator]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [globalFilterFields]="['person.age']">

        <ng-template pTemplate="caption">
            <p-button label="Add person" icon="pi pi-plus" styleClass="p-button-rounded p-button-primary" (click)="newPerson()"></p-button>
        </ng-template>

        <ng-template pTemplate="header">
            <tr>
                <th style="min-width:15rem">
                    <div class="flex align-items-center">
                        Lastname
                    </div>
                </th>
                <th style="min-width:15rem">
                    <div class="flex align-items-center">
                        Firstname
                    </div>
                </th>
                <th style="min-width:10rem ">
                    <div class="flex align-items-center ">
                        Age
                        <p-columnFilter type="text" field="personne.age" display="menu"></p-columnFilter>
                    </div>
                </th>
                <th style="min-width:10rem ">
                    <div class="flex align-items-center ">
                        Department
                    </div>
                </th>
                <th style="min-width:10rem ">
                    <div class="flex align-items-center ">
                        Actions
                    </div>
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-personne>
            <tr>
                <td>
                    {{ personne.lastName }}
                </td>
                <td>
                    {{ personne.firstName }}
                </td>
                <td>
                    {{ personne.age }}
                </td>
                <td>
                    <!-- {{ personne.departement.designation }} -->
                </td>
                <td>
                    <p-button icon="pi pi-user-edit" styleClass="p-button-primary" (click)="showDialog()" class="right-50"></p-button>
                    <p-button icon="pi pi-trash " styleClass="p-button-danger " (click)="deletePerson() "></p-button>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage ">
            <tr>
                <td colspan="5 ">No persons found.</td>
            </tr>
        </ng-template>
    </p-table>
</div>

<div class="card flex justify-content-center">
    <p-dialog header="Ajouter une  personne" [(visible)]="visible1" [modal]="true" [style]="{ width: '50vw', height: '30vw' }" [draggable]="false" [resizable]="false">
        <form>
            <div class="p-inputgroup">
                <input pInputText id="lastName" placeholder="Lastname" />
            </div><br>
            <div class="p-inputgroup">
                <input pInputText id="firstName" placeholder="Firstname" />
            </div><br>
            <div class="p-inputgroup">
                <input pInputText id="age" placeholder="Age" />
            </div><br>
            <!-- <div class="card flex justify-content-center">
                <input pInputText id="department" [(ngModel)]="departeme" />
                <label htmlFor="department">Department</label>
            </div> -->
            <div class="p-inputgroup ">
                <p-button icon="pi pi-check" label="Submit" styleClass="p-button-rounded p-button-primary" (click)="createPerson()"></p-button>
                <p-button icon="pi pi-times" label="Return" styleClass="p-button-rounded p-button-danger" (click)="annulateCreation()"></p-button>
            </div>
        </form>
    </p-dialog>
</div>

<div class="card flex justify-content-center">
    <p-dialog header="Modifier les informations d'une  personne" [(visible)]="visible" [modal]="true" [style]="{ width: '50vw', height: '30vw' }" [draggable]="false" [resizable]="false">
        <form>
            <div class="p-inputgroup">
                <input pInputText id="lastName" placeholder="Lastname" />
            </div><br>
            <div class="p-inputgroup">
                <input pInputText id="firstName" placeholder="Firstname" />
            </div><br>
            <div class="p-inputgroup">
                <input pInputText id="age" placeholder="Age" />
            </div>
            <!-- <div class="card flex justify-content-center">
                <input pInputText id="department" [(ngModel)]="departeme" />
                <label htmlFor="department">Department</label>
            </div> -->
        </form>
    </p-dialog>
</div>